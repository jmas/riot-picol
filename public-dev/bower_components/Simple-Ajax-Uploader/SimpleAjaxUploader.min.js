!function(){var e,t=window.ss||{},s=/^\s+/,n=/\s+$/,i=/[xy]/g,o=/.*(\/|\\)/,r=/.*[.]/,a=/[\t\r\n]/g,l=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,u=-1!==navigator.userAgent.indexOf("MSIE 7"),d=document.createElement("input");if(d.type="file",e="multiple"in d&&"undefined"!=typeof File&&"undefined"!=typeof(new XMLHttpRequest).upload,t.obj2string=function(e,s){"use strict";var n=[];for(var i in e)if(e.hasOwnProperty(i)){var o=s?s+"["+i+"]":i,r=e[i];n.push("object"==typeof r?t.obj2string(r,o):encodeURIComponent(o)+"="+encodeURIComponent(r))}return n.join("&")},t.extendObj=function(e,t){"use strict";for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},t.addEvent=function(e,s,n){"use strict";return e.addEventListener?e.addEventListener(s,n,!1):e.attachEvent("on"+s,n),function(){t.removeEvent(e,s,n)}},t.removeEvent=function(e,t,s){"use strict";e.removeEventListener?e.removeEventListener(t,s,!1):e.detachEvent("on"+t,s)},t.newXHR=function(){"use strict";if("undefined"!=typeof XMLHttpRequest)return new window.XMLHttpRequest;if(window.ActiveXObject)try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}},t.getIFrame=function(){"use strict";var e,s=t.getUID();return u?e=document.createElement('<iframe src="javascript:false;" name="'+s+'">'):(e=document.createElement("iframe"),e.src="javascript:false;",e.name=s),e.style.display="none",e.id=s,e},t.getForm=function(e){"use strict";var t=document.createElement("form");t.encoding="multipart/form-data",t.enctype="multipart/form-data",t.style.display="none";for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t},t.getHidden=function(e,t){"use strict";var s=document.createElement("input");return s.type="hidden",s.name=e,s.value=t,s},t.parseJSON=function(e){"use strict";if(!e)return!1;if(e=t.trim(e+""),window.JSON&&window.JSON.parse)try{return window.JSON.parse(e+"")}catch(s){return!1}var n,i=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,o=null;return e&&!t.trim(e.replace(i,function(e,t,s,i){return n&&t&&(o=0),0===o?e:(n=s||t,o+=!i-!s,"")}))?Function("return "+e)():!1},t.getBox=function(e){"use strict";var t,s,n=0,i=0;if(e.getBoundingClientRect)t=e.getBoundingClientRect(),s=document.documentElement,n=t.top+(window.pageYOffset||s.scrollTop)-(s.clientTop||0),i=t.left+(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0);else do i+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{top:Math.round(n),left:Math.round(i)}},t.addStyles=function(e,t){"use strict";for(var s in t)t.hasOwnProperty(s)&&(e.style[s]=t[s])},t.copyLayout=function(e,s){"use strict";var n=t.getBox(e);t.addStyles(s,{position:"absolute",left:n.left+"px",top:n.top+"px",width:e.offsetWidth+"px",height:e.offsetHeight+"px"})},t.getUID=function(){"use strict";return"axxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(i,function(e){var t=16*Math.random()|0,s="x"==e?t:3&t|8;return s.toString(16)})},t.trim=function(e){"use strict";return e.toString().replace(s,"").replace(n,"")},t.getFilename=function(e){"use strict";return e.replace(o,"")},t.getExt=function(e){"use strict";return-1!==e.indexOf(".")?e.replace(r,""):""},t.hasClass=function(e,t){"use strict";return(" "+e.className+" ").replace(a," ").indexOf(" "+t+" ")>=0},t.addClass=function(e,s){"use strict";return s&&""!==s?void(t.hasClass(e,s)||(e.className+=" "+s)):!1},t.removeClass=function(){"use strict";var e={};return function(t,s){e[s]||(e[s]=new RegExp("(?:^|\\s)"+s+"(?!\\S)")),t.className=t.className.replace(e[s],"")}}(),t.purge=function(e){"use strict";var s,n,i,o=e.attributes;if(o)for(s=o.length-1;s>=0;s-=1)i=o[s].name,"function"==typeof e[i]&&(e[i]=null);if(o=e.childNodes)for(n=o.length,s=0;n>s;s+=1)t.purge(e.childNodes[s])},t.remove=function(e){"use strict";e&&e.parentNode&&(t.purge(e),e.parentNode.removeChild(e)),e=null},t.verifyElem=function(e){"use strict";return"undefined"!=typeof jQuery&&e instanceof jQuery?e=e[0]:"string"==typeof e&&("#"==e.charAt(0)&&(e=e.substr(1)),e=document.getElementById(e)),e&&1===e.nodeType?("A"==e.nodeName.toUpperCase()&&(e.style.cursor="pointer",t.addEvent(e,"click",function(e){e&&e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)})),e):!1},t._options={},t.uploadSetup=function(e){"use strict";t.extendObj(t._options,e)},t.SimpleUpload=function(s){"use strict";var n,i,o;if(this._opts={button:"",url:"",dropzone:"",dragClass:"",cors:!1,progressUrl:!1,sessionProgressUrl:!1,nginxProgressUrl:!1,multiple:!1,maxUploads:3,queue:!0,checkProgressInterval:500,keyParamName:"APC_UPLOAD_PROGRESS",sessionProgressName:"PHP_SESSION_UPLOAD_PROGRESS",nginxProgressHeader:"X-Progress-ID",corsInputName:"XHR_CORS_TARGETORIGIN",allowedExtensions:[],accept:"",maxSize:!1,name:"",data:{},noParams:!1,autoSubmit:!0,multipart:!1,method:"POST",responseType:"",debug:!1,hoverClass:"",focusClass:"",disabledClass:"",customHeaders:{},onAbort:function(){},onChange:function(){},onSubmit:function(){},onProgress:function(){},onUpdateFileSize:function(){},onComplete:function(){},onExtError:function(){},onSizeError:function(){},onError:function(){},startXHR:function(){},endXHR:function(){},startNonXHR:function(){},endNonXHR:function(){}},t.extendObj(this._opts,t._options),t.extendObj(this._opts,s),s=null,this._btns=[],this._opts.button instanceof Array)for(i=this._opts.button.length,n=0;i>n;n++)o=t.verifyElem(this._opts.button[n]),o!==!1?this._btns.push(this.rerouteClicks(o)):this.log("Button with array index "+n+" is invalid");else o=t.verifyElem(this._opts.button),o!==!1&&this._btns.push(this.rerouteClicks(o));if(delete this._opts.button,""===this._opts.dropzone&&(this._btns.length<1||this._btns[0]===!1))throw new Error("Invalid button. Make sure the element you're passing exists.");this._opts.multiple===!1&&(this._opts.maxUploads=1),this._queue=[],this._active=0,this._disabled=!1,this._maxFails=10,this._progKeys={},e||(this._sizeFlags={}),e&&""!==this._opts.dropzone&&this.addDropZone(this._opts.dropzone),this._createInput(),this._manDisabled=!1,this.enable(!0)},t.SimpleUpload.prototype={destroy:function(){"use strict";for(var e=this._btns.length;e--;)this._btns[e].off&&this._btns[e].off(),t.removeClass(this._btns[e],this._opts.hoverClass),t.removeClass(this._btns[e],this._opts.focusClass),t.removeClass(this._btns[e],this._opts.disabledClass),this._btns[e].disabled=!1;t.remove(this._input.parentNode);for(var s in this)this.hasOwnProperty(s)&&delete this.prop},log:function(e){"use strict";this._opts.debug&&window.console&&window.console.log&&window.console.log("[Uploader] "+e)},setData:function(e){"use strict";this._opts.data=e},setOptions:function(e){"use strict";t.extendObj(this._opts,e)},setProgressBar:function(e){"use strict";this._progBar=t.verifyElem(e)},setPctBox:function(e){"use strict";this._pctBox=t.verifyElem(e)},setFileSizeBox:function(e){"use strict";this._sizeBox=t.verifyElem(e)},setProgressContainer:function(e){"use strict";this._progBox=t.verifyElem(e)},setAbortBtn:function(e,s){"use strict";this._abortBtn=t.verifyElem(e),this._removeAbort=!1,s&&(this._removeAbort=!0)},getQueueSize:function(){"use strict";return this._queue.length},_cycleQueue:function(){"use strict";this._queue.length>0&&this._opts.autoSubmit&&this.submit()},removeCurrent:function(e){"use strict";if(e){for(var t=this._queue.length;t--;)if(this._queue[t].id===e){this._queue.splice(t,1);break}}else this._queue.splice(0,1);this._cycleQueue()},clearQueue:function(){"use strict";this._queue.length=0},disable:function(e){"use strict";var s,n=this._btns.length;for(this._manDisabled=e&&this._manDisabled!==!0?!1:!0,this._disabled=!0;n--;)s=this._btns[n].nodeName.toUpperCase(),("INPUT"==s||"BUTTON"==s)&&(this._btns[n].disabled=!0),""!==this._opts.disabledClass&&t.addClass(this._btns[n],this._opts.disabledClass);this._input&&this._input.parentNode&&(this._input.parentNode.style.visibility="hidden")},enable:function(e){"use strict";if(e||(this._manDisabled=!1),this._manDisabled!==!0){var s=this._btns.length;for(this._disabled=!1;s--;)t.removeClass(this._btns[s],this._opts.disabledClass),this._btns[s].disabled=!1}}},t.IframeUpload={_getHost:function(e){var t=document.createElement("a");return t.href=e,t.hostname?t.hostname.toLowerCase():e},_addFiles:function(e){var s=t.getFilename(e.value),n=t.getExt(s);return!1===this._opts.onChange.call(this,s,n,this._overBtn)?!1:(this._queue.push({id:t.getUID(),file:e,name:s,ext:n,btn:this._overBtn,size:null}),!0)},_uploadIframe:function(e,s,n,i,o,r,a){"use strict";var l,u,d,p,c,h=this,f=this._opts,_=t.getUID(),m=t.getIFrame(),g=!1,v=!1;u=f.noParams===!0?f.url:f.nginxProgressUrl?u+(u.indexOf("?")>-1?"&":"?")+encodeURIComponent(f.nginxProgressHeader)+"="+encodeURIComponent(_):f.url,l=t.getForm({action:u,target:m.name,method:f.method}),f.onProgress.call(this,0),o&&(o.innerHTML="0%"),i&&(i.style.width="0%"),f.cors&&(d=t.addEvent(window,"message",function(t){return h._getHost(t.origin)!=h._getHost(f.url)?void h.log("Non-matching origin: "+t.origin):(g=!0,d(),f.endNonXHR.call(h,e.name,e.btn),void h._finish(e,"","",t.data,n,s,o,r,a))}));var b=t.addEvent(m,"load",function(){b(),f.sessionProgressUrl?l.appendChild(t.getHidden(f.sessionProgressName,_)):f.progressUrl&&l.appendChild(t.getHidden(f.keyParamName,_));for(var u in f.data)f.data.hasOwnProperty(u)&&l.appendChild(t.getHidden(u,f.data[u]));f.cors&&l.appendChild(t.getHidden(f.corsInputName,window.location.href)),l.appendChild(e.file),p=t.addEvent(m,"load",function(){if(m.parentNode&&!v)if(v=!0,delete h._progKeys[_],delete h._sizeFlags[_],p(),r&&t.removeEvent(r,"click",c),f.cors)window.setTimeout(function(){t.remove(l),t.remove(m),g||h._errorFinish(e,"","",!1,"error",s,n,o,r,a),f=_=l=m=n=s=o=r=a=null},600);else{try{var i=m.contentDocument?m.contentDocument:m.contentWindow.document,u=i.body.innerHTML;f.endNonXHR.call(h,e.name,e.btn),h._finish(e,"","",u,n,s,o,r,a)}catch(d){h._errorFinish(e,"",d.message,!1,"error",s,n,o,r,a)}window.setTimeout(function(){t.remove(l),t.remove(m),l=m=null},0),e=f=_=n=s=o=null}}),r&&(c=function(){if(t.removeEvent(r,"click",c),delete h._progKeys[_],delete h._sizeFlags[_],m){v=!0,p();try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(i){}try{m.src="javascript".concat(":false;")}catch(i){}window.setTimeout(function(){t.remove(l),t.remove(m),l=m=null},0)}h.log("Upload aborted"),f.onAbort.call(h,e.name,e.btn),h._last(n,s,o,r,a)},t.addEvent(r,"click",c)),h.log("Commencing upload using iframe"),l.submit(),h._hasProgUrl&&(h._progKeys[_]=1,window.setTimeout(function(){h._getProg(_,i,n,o,1),i=n=o=null},f.checkProgressInterval)),window.setTimeout(function(){h.removeCurrent(e.id)},0)});document.body.appendChild(l),document.body.appendChild(m)},_getProg:function(e,s,n,i,o){"use strict";var r,a,l,u=this,d=this._opts,p=(new Date).getTime();if(e)if(d.nginxProgressUrl?a=d.nginxProgressUrl+"?"+encodeURIComponent(d.nginxProgressHeader)+"="+encodeURIComponent(e)+"&_="+p:d.sessionProgressUrl?a=d.sessionProgressUrl:d.progressUrl&&(a=d.progressUrl+"?progresskey="+encodeURIComponent(e)+"&_="+p),l=function(){var a,p,c,h,f;try{if(l&&(d.cors||4===r.readyState)){l=void 0,r.onreadystatechange=function(){};try{f=r.statusText,h=r.status}catch(_){f="",h=""}if(d.cors||h>=200&&300>h){if(a=t.parseJSON(r.responseText),a===!1)return void u.log("Error parsing progress response (expecting JSON)");if(d.nginxProgressUrl){if("uploading"==a.state)p=parseInt(a.size,10),p>0&&(c=Math.round(parseInt(a.received,10)/p*100),p=Math.round(p/1024));else if("done"==a.state)c=100;else if("error"==a.state)return void u.log("Error requesting upload progress: "+a.status)}else(d.sessionProgressUrl||d.progressUrl)&&a.success===!0&&(p=parseInt(a.size,10),c=parseInt(a.pct,10));if(c&&(i&&(i.innerHTML=c+"%"),s&&(s.style.width=c+"%"),d.onProgress.call(u,c)),p&&!u._sizeFlags[e]&&(n&&(n.innerHTML=p+"K"),u._sizeFlags[e]=1,d.onUpdateFileSize.call(u,p)),!c&&!p&&o>=u._maxFails)return o++,void u.log("Failed progress request limit reached. Count: "+o);100>c&&u._progKeys[e]&&window.setTimeout(function(){u._getProg(e,s,n,i,o),e=s=n=i=o=null},d.checkProgressInterval)}else delete u._progKeys[e],u.log("Error requesting upload progress: "+h+" "+f);r=p=c=h=f=a=null}}catch(_){u.log("Error requesting upload progress: "+_.message)}},d.cors&&!d.sessionProgressUrl){if(!window.XDomainRequest)return;r=new window.XDomainRequest,r.open("GET",a,!0),r.onprogress=r.ontimeout=function(){},r.onload=l,r.onerror=function(){delete u._progKeys[e],e=null,u.log("Error requesting upload progress")}}else{var c,h=d.sessionProgressUrl?"POST":"GET";r=t.newXHR(),r.onreadystatechange=l,r.open(h,a,!0),d.sessionProgressUrl&&(c=encodeURIComponent(d.sessionProgressName)+"="+encodeURIComponent(e),r.setRequestHeader("Content-type","application/x-www-form-urlencoded")),d.nginxProgressUrl&&r.setRequestHeader(d.nginxProgressHeader,e),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),r.send(d.sessionProgressUrl&&c||null)}},_initUpload:function(e){return!1===this._opts.startNonXHR.call(this,e.name,e.btn)?(this._disabled&&this.enable(!0),void this._active--):(this._hasProgUrl=this._opts.progressUrl||this._opts.sessionProgressUrl||this._opts.nginxProgressUrl?!0:!1,this._uploadIframe(e,this._progBox,this._sizeBox,this._progBar,this._pctBox,this._abortBtn,this._removeAbort),void(this._progBox=this._sizeBox=this._progBar=this._pctBox=this._abortBtn=this._removeAbort=null))}},t.XhrUpload={_addFiles:function(e){var s,n,i,o,r=e.length;for(this._opts.multiple||(r=1),o=0;r>o;o++){if(s=t.getFilename(e[o].name),n=t.getExt(s),i=Math.round(e[o].size/1024),!1===this._opts.onChange.call(this,s,n,i))return!1;this._queue.push({id:t.getUID(),file:e[o],name:s,ext:n,btn:this._overBtn,size:i})}return!0},_uploadXhr:function(e,s,n,i,o,r,a,l,u,d){"use strict";var p,c,h=this,f=this._opts,_=t.newXHR();o&&(o.innerHTML=e.size+"K"),l&&(l.innerHTML="0%"),r&&(r.style.width="0%"),f.onProgress.call(this,0),p=function(s,n){var i,r;try{if(p&&(n||4===_.readyState))if(p=void 0,_.onreadystatechange=function(){},n)4!==_.readyState&&_.abort(),f.onAbort.call(h,e.name,e.btn),h._last(o,a,l,u,d);else{u&&t.removeEvent(u,"click",c),i=_.status;try{r=_.statusText}catch(m){r=""}i>=200&&300>i?(f.endXHR.call(h,e.name,e.size,e.btn),h._finish(e,i,r,_.responseText,o,a,l,u,d)):h._errorFinish(e,i,r,_.responseText,"error",a,o,l,u,d)}}catch(m){n||h._errorFinish(e,-1,m.message,!1,"error",a,o,l,u,d)}},u&&(c=function(){t.removeEvent(u,"click",c),p&&p(void 0,!0)},t.addEvent(u,"click",c)),_.onreadystatechange=p,_.open(f.method.toUpperCase(),s,!0),t.extendObj(i,f.customHeaders);for(var m in i)i.hasOwnProperty(m)&&_.setRequestHeader(m,encodeURIComponent(i[m])+"");if(t.addEvent(_.upload,"progress",function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);f.onProgress.call(h,t),l&&(l.innerHTML=t+"%"),r&&(r.style.width=t+"%")}}),f.multipart===!0){var g=new FormData;for(var v in n)n.hasOwnProperty(v)&&g.append(v,n[v]);g.append(f.name,e.file),this.log("Commencing upload using multipart form"),_.send(g)}else this.log("Commencing upload using binary stream"),_.send(e.file);this.removeCurrent(e.id)},_initUpload:function(e){"use strict";var s,n={},i={};return!1===this._opts.startXHR.call(this,e.name,e.size,e.btn)?(this._disabled&&this.enable(!0),void this._active--):(n[this._opts.name]=e.name,i["X-Requested-With"]="XMLHttpRequest",i["X-File-Name"]=e.name,"json"==this._opts.responseType.toLowerCase()&&(i.Accept="application/json, text/javascript, */*; q=0.01"),this._opts.multipart||(i["Content-Type"]="application/octet-stream"),t.extendObj(n,this._opts.data),s=this._opts.noParams===!0?this._opts.url:this._opts.url+(this._opts.url.indexOf("?")>-1?"&":"?")+t.obj2string(n),this._uploadXhr(e,s,n,i,this._sizeBox,this._progBar,this._progBox,this._pctBox,this._abortBtn,this._removeAbort),void(this._sizeBox=this._progBar=this._progBox=this._pctBox=this._abortBtn=this._removeAbort=null))}},function(){t.extendObj(t.SimpleUpload.prototype,{_createInput:function(){"use strict";var s=this,n=document.createElement("div");this._input=document.createElement("input"),this._input.type="file",this._input.name=this._opts.name,e&&!l&&this._opts.multiple&&(this._input.multiple=!0),"accept"in this._input&&""!==this._opts.accept&&(this._input.accept=this._opts.accept),t.addStyles(n,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583}),t.addStyles(this._input,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",fontFamily:"sans-serif",cursor:"pointer"}),"0"!==n.style.opacity&&(n.style.filter="alpha(opacity=0)"),t.addEvent(this._input,"change",function(){s._input&&""!==s._input.value&&!1!==s._addFiles(e?s._input.files:s._input)&&(t.removeClass(s._overBtn,s._opts.hoverClass),t.removeClass(s._overBtn,s._opts.focusClass),t.remove(s._input.parentNode),delete s._input,s._createInput(),s._opts.autoSubmit&&s.submit())}),""!==s._opts.hoverClass&&(t.addEvent(this._input,"mouseover",function(){t.addClass(s._overBtn,s._opts.hoverClass)}),t.addEvent(this._input,"mouseout",function(){t.removeClass(s._overBtn,s._opts.hoverClass),t.removeClass(s._overBtn,s._opts.focusClass),s._input.parentNode.style.visibility="hidden"})),""!==s._opts.focusClass&&(t.addEvent(this._input,"focus",function(){t.addClass(s._overBtn,s._opts.focusClass)}),t.addEvent(this._input,"blur",function(){t.removeClass(s._overBtn,s._opts.focusClass)})),n.appendChild(this._input),document.body.appendChild(n)},rerouteClicks:function(e){"use strict";var s=this;return e.off=t.addEvent(e,"mouseover",function(){s._disabled||(s._input||s._createInput(),s._overBtn=e,t.copyLayout(e,s._input.parentNode),s._input.parentNode.style.visibility="visible")}),e},_last:function(e,s,n,i,o){"use strict";e&&(e.innerHTML=""),n&&(n.innerHTML=""),i&&o&&t.remove(i),s&&t.remove(s),this._active--,e=s=n=i=o=null,this._disabled&&this.enable(!0),this._cycleQueue()},_errorFinish:function(e,t,s,n,i,o,r,a,l,u){"use strict";this.log("Upload failed: "+t+" "+s),this._opts.onError.call(this,e.name,i,t,s,n,e.btn),this._last(r,o,a,l,u),e=t=s=n=i=r=o=a=l=u=null},_finish:function(e,s,n,i,o,r,a,l,u){"use strict";return this.log("Server response: "+i),"json"==this._opts.responseType.toLowerCase()&&(i=t.parseJSON(i),i===!1)?void this._errorFinish(e,s,n,!1,"parseerror",r,o,l,u):(this._opts.onComplete.call(this,e.name,i,e.btn),this._last(o,r,a,l,u),void(e=s=n=i=o=r=a=l=u=null))},_checkFile:function(e){"use strict";var t=!1,s=this._opts.allowedExtensions.length;if(s>0){for(;s--;)if(this._opts.allowedExtensions[s].toLowerCase()==e.ext.toLowerCase()){t=!0;break}if(!t)return this.removeCurrent(e.id),this.log("File extension not permitted"),this._opts.onExtError.call(this,e.name,e.ext),!1}return e.size&&this._opts.maxSize!==!1&&e.size>this._opts.maxSize?(this.removeCurrent(e.id),this.log(e.name+" exceeds "+this._opts.maxSize+"K limit"),this._opts.onSizeError.call(this,e.name,e.size),!1):(e=null,!0)},submit:function(){"use strict";this._disabled||this._active>=this._opts.maxUploads||this._queue.length<1||this._checkFile(this._queue[0])&&!1!==this._opts.onSubmit.call(this,this._queue[0].name,this._queue[0].ext,this._queue[0].btn,this._queue[0].size)&&(this._active++,(this._opts.multiple===!1||this._opts.queue===!1&&this._active>=this._opts.maxUploads)&&this.disable(!0),this._initUpload(this._queue[0]))}}),e?t.extendObj(t.SimpleUpload.prototype,t.XhrUpload):t.extendObj(t.SimpleUpload.prototype,t.IframeUpload)}(),t.extendObj(t.SimpleUpload.prototype,{_dragFileCheck:function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"==e.dataTransfer.types[t])return!0;return!1},addDropZone:function(e){var s=this;return(e=t.verifyElem(e))?(e.ondragenter=function(e){return s._dragFileCheck(e)?(t.addClass(this,s._opts.dragClass),!1):!1},e.ondragover=function(){return!1},e.ondragend=function(){return t.removeClass(this,s._opts.dragClass),!1},e.ondragleave=function(){return t.removeClass(this,s._opts.dragClass),!1},void(e.ondrop=function(e){return e.preventDefault(),t.removeClass(this,s._opts.dragClass),s._dragFileCheck(e)?(s._addFiles(e.dataTransfer.files),void s._cycleQueue()):!1})):(s.log("Invalid or nonexistent element passed for drop zone"),!1)}}),"undefined"!=typeof define)define(function(){return t});else if("undefined"!=typeof module)module.exports=t;else{if("undefined"==typeof window)throw new Error("Can't export Simple Ajax Uploader.");window.ss=t}}();
